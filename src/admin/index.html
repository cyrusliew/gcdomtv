<!DOCTYPE html>
<html>
  <head>
    <title>TinaCMS Admin</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="/admin/index.js"></script>
  </head>
  <body>
    <script type="module">
      import { TinaCMS, TinaProvider } from 'tinacms';
      import { createClient } from 'tinacms/dist/client';
      import config from '../tina/config.ts';

      const cms = new TinaCMS({
        branch: config.branch,
        clientId: config.clientId,
        token: config.token,
        media: config.media,
        schema: config.schema,
        build: config.build,
      });

      const client = createClient({
        clientId: config.clientId,
        token: config.token,
        branch: config.branch,
      });

      cms.api.tina = client;

      new TinaProvider({ cms }).render(document.body);
    </script>
  </body>
</html>